{% extends 'base.html' %}
{% block content %}
<h2 class="font-bold text-bp-blue mb-4">Meeting Results</h2>
<div class="bp-card-grid mb-4">
  {% for meeting in meetings %}
  <a href="{{ url_for('main.public_results', meeting_id=meeting.id) }}" class="bp-card block hover:shadow-md">
    <h3 class="font-semibold mb-1">{{ meeting.title }}</h3>
    <p class="text-sm">{{ meeting.status or 'Concluded' }}</p>
  </a>
  {% else %}
  <p>No public results yet.</p>
  {% endfor %}
</div>
{% if pagination.pages > 1 %}
<ul class="bp-pagination">
  {% if pagination.has_prev %}
  <li><a href="{{ url_for('main.results_index', page=pagination.prev_num) }}">&laquo; Prev</a></li>
  {% else %}
  <li class="disabled">&laquo; Prev</li>
  {% endif %}
  {% for p in pagination.iter_pages(left_edge=1, right_edge=1, left_current=2, right_current=2) %}
    {% if p %}
      {% if p == pagination.page %}
      <li class="bp-active">{{ p }}</li>
      {% else %}
      <li><a href="{{ url_for('main.results_index', page=p) }}">{{ p }}</a></li>
      {% endif %}
    {% else %}
      <li class="disabled">&hellip;</li>
    {% endif %}
  {% endfor %}
  {% if pagination.has_next %}
  <li><a href="{{ url_for('main.results_index', page=pagination.next_num) }}">Next &raquo;</a></li>
  {% else %}
  <li class="disabled">Next &raquo;</li>
  {% endif %}
</ul>
{% endif %}
{% endblock %}
